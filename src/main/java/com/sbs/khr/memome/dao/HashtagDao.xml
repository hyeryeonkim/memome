<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.sbs.khr.memome.dao.HashtagDao">

	<insert id="tagWrite" >
		INSERT INTO hashtag
		SET regDate = NOW(),
		updateDate = NOW(),
		relTypeCode = #{relTypeCode},
		relId = #{relId},
		tag = #{tag},
		memberId = #{memberId},
		tagNo = 1
	</insert>

	<update id="update">
		UPDATE hashtag
		<set>
			updateDate = NOW(),
			<if test="relTypeCode != null">relTypeCode = #{relTypeCode},</if>
			<if test="relId != null">relId = #{relId},</if>
			<if test="memberId != null">memberId = #{memberId},</if>
			<if test="tag != null">tag = #{tag},</if>
			<if test="tagNo != null">tagNo = #{tagNo}</if>
		</set>
		WHERE id = #{id}
	</update>

</mapper>